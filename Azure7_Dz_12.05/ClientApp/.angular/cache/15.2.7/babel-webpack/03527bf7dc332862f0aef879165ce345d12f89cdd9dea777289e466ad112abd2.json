{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Author } from '../../Models/Author';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../Services/AuthorService\";\nimport * as i3 from \"@angular/router\";\nexport class EditComponent {\n  constructor(formBuilder, authorService, router, route) {\n    this.formBuilder = formBuilder;\n    this.authorService = authorService;\n    this.router = router;\n    this.route = route;\n    this.authorForm = this.formBuilder.group({\n      id: [''],\n      name: ['', Validators.required],\n      yearOfBirth: ['', Validators.required]\n    });\n    this.author = new Author('', '', 0);\n    this.isFormSubmitted = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(t => {\n      this.id = t[\"id\"];\n    });\n    this.authorService.getAuthor(this.id).subscribe(t => {\n      this.author = t;\n      this.authorForm = this.formBuilder.group({\n        id: [this.id],\n        name: [this.author.name, Validators.required],\n        yearOfBirth: [this.author.yearOfBirth, Validators.required]\n      });\n      console.log(this.authorForm);\n    });\n  }\n  onSubmit() {\n    this.isFormSubmitted = true;\n    //console.log(this.authorForm.get(\"name\")?.valid);\n    if (this.authorForm.valid) {\n      this.author = {\n        ...this.author,\n        ...this.authorForm.value\n      };\n      //console.log(this.author);\n      this.authorService.editAuthor(this.author);\n      this.isFormSubmitted = false;\n      this.router.navigateByUrl(\"/\");\n    }\n  }\n}\nEditComponent.ɵfac = function EditComponent_Factory(t) {\n  return new (t || EditComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthorService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditComponent,\n  selectors: [[\"app-edit\"]],\n  decls: 22,\n  vars: 3,\n  consts: [[1, \"row\"], [1, \"col-4\"], [1, \"col\", \"mt-5\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-label\"], [1, \"text-danger\", 3, \"hidden\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"id\", \"yearOfBirth\", \"formControlName\", \"yearOfBirth\", \"type\", \"number\", 1, \"form-control\"], [1, \"btn-group\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-secondary\"]],\n  template: function EditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function EditComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\")(5, \"label\", 4);\n      i0.ɵɵtext(6, \" Name: \");\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵtext(8, \" Name is required! \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\")(11, \"label\", 4)(12, \"div\", 5);\n      i0.ɵɵtext(13, \" Year of birth required! \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \" Year of birth: \");\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 8)(17, \"button\", 9);\n      i0.ɵɵtext(18, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 10);\n      i0.ɵɵtext(20, \"Bacl\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(21, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.authorForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hidden\", !ctx.isFormSubmitted || ((tmp_1_0 = ctx.authorForm.get(\"name\")) == null ? null : tmp_1_0.valid));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"hidden\", !ctx.isFormSubmitted || !((tmp_2_0 = ctx.authorForm.get(\"name\")) == null ? null : tmp_2_0.valid));\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;AAGnE,SAASC,MAAM,QAAQ,qBAAqB;;;;;AAQ5C,OAAM,MAAOC,aAAa;EACxBC,YAAoBC,WAAwB,EAAUC,aAA4B,EAAUC,MAAc,EAAUC,KAAqB;IAArH,gBAAW,GAAXH,WAAW;IAAuB,kBAAa,GAAbC,aAAa;IAAyB,WAAM,GAANC,MAAM;IAAkB,UAAK,GAALC,KAAK;IACzH,eAAU,GAAc,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MAC7CC,EAAE,EAAE,CAAC,EAAE,CAAC;MACRC,IAAI,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACW,QAAQ,CAAC;MAC/BC,WAAW,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ;KACtC,CAAC;IAEF,WAAM,GAAW,IAAIV,MAAM,CAAC,EAAE,EAAC,EAAE,EAAC,CAAC,CAAC;IACpC,oBAAe,GAAY,KAAK;EAR6G;EAS7IY,QAAQ;IACN,IAAI,CAACN,KAAK,CAACO,MAAM,CAACC,SAAS,CAACC,CAAC,IAAG;MAC9B,IAAI,CAACP,EAAE,GAAGO,CAAC,CAAC,IAAI,CAAC;IACnB,CAAC,CAAC;IACF,IAAI,CAACX,aAAa,CAACY,SAAS,CAAC,IAAI,CAACR,EAAE,CAAC,CAACM,SAAS,CAACC,CAAC,IAAG;MAClD,IAAI,CAACE,MAAM,GAAGF,CAAC;MACf,IAAI,CAACG,UAAU,GAAG,IAAI,CAACf,WAAW,CAACI,KAAK,CAAC;QACvCC,EAAE,EAAE,CAAC,IAAI,CAACA,EAAE,CAAC;QACbC,IAAI,EAAE,CAAC,IAAI,CAACQ,MAAM,CAACR,IAAI,EAAEV,UAAU,CAACW,QAAQ,CAAC;QAC7CC,WAAW,EAAE,CAAC,IAAI,CAACM,MAAM,CAACN,WAAW,EAAEZ,UAAU,CAACW,QAAQ;OAC3D,CAAC;MACFS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,UAAU,CAAC;IAC9B,CAAC,CAAC;EAGJ;EACAG,QAAQ;IACN,IAAI,CAACC,eAAe,GAAG,IAAI;IAC3B;IACA,IAAI,IAAI,CAACJ,UAAU,CAACK,KAAK,EAAE;MACzB,IAAI,CAACN,MAAM,GAAG;QAAE,GAAG,IAAI,CAACA,MAAM;QAAE,GAAG,IAAI,CAACC,UAAU,CAACM;MAAK,CAAE;MAC1D;MACA,IAAI,CAACpB,aAAa,CAACqB,UAAU,CAAC,IAAI,CAACR,MAAM,CAAC;MAC1C,IAAI,CAACK,eAAe,GAAG,KAAK;MAC5B,IAAI,CAACjB,MAAM,CAACqB,aAAa,CAAC,GAAG,CAAC;;EAGlC;;AArCWzB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX1BC,8BAAiB;MACfA,yBAAyB;MACzBA,8BAAsB;MACWA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACpDD,2BAAK;MAGDA,uBACA;MAAAA,8BAAsF;MACnFA,mCACH;MAAAA,iBAAM;MACNA,2BAA2E;MAC7EA,iBAAQ;MAEVA,4BAAK;MAICA,0CACF;MAAAA,iBAAM;MACNA,iCACA;MAAAA,4BAA2F;MAC7FA,iBAAQ;MAEVA,+BAAuB;MACiCA,qBAAI;MAAAA,iBAAS;MACnEA,mCAAwD;MAAAA,qBAAI;MAAAA,iBAAS;MAK3EA,0BAAyB;MAC3BA,iBAAM;;;;;MA7BIA,eAAwB;MAAxBA,0CAAwB;MAKCA,eAA4D;MAA5DA,wHAA4D;MAS5DA,eAA6D;MAA7DA,yHAA6D","names":["Validators","Author","EditComponent","constructor","formBuilder","authorService","router","route","group","id","name","required","yearOfBirth","ngOnInit","params","subscribe","t","getAuthor","author","authorForm","console","log","onSubmit","isFormSubmitted","valid","value","editAuthor","navigateByUrl","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\artuo\\source\\repos\\Azure7_Dz_12.05\\Azure7_Dz_12.05\\ClientApp\\src\\app\\AuthorController\\edit\\edit.component.ts","C:\\Users\\artuo\\source\\repos\\Azure7_Dz_12.05\\Azure7_Dz_12.05\\ClientApp\\src\\app\\AuthorController\\edit\\edit.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { AuthorService } from '../../Services/AuthorService';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Author } from '../../Models/Author';\r\nimport { keyframes } from '@angular/animations';\r\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\nexport class EditComponent {\n  constructor(private formBuilder: FormBuilder, private authorService: AuthorService, private router: Router, private route: ActivatedRoute) { }\n  authorForm: FormGroup = this.formBuilder.group({\n    id: [''] ,\n    name: ['', Validators.required],\n    yearOfBirth: ['', Validators.required]\n  });\n  id!: string\n  author: Author = new Author('','',0);\n  isFormSubmitted: boolean = false;\n  ngOnInit() {\n    this.route.params.subscribe(t => {\r\n      this.id = t[\"id\"];\r\n    });\n    this.authorService.getAuthor(this.id).subscribe(t => {\n      this.author = t;\n      this.authorForm = this.formBuilder.group({\n        id: [this.id],\n        name: [this.author.name, Validators.required],\n        yearOfBirth: [this.author.yearOfBirth, Validators.required]\n      });\n      console.log(this.authorForm)\n    });\n    \n\n  }\n  onSubmit() {\n    this.isFormSubmitted = true;\n    //console.log(this.authorForm.get(\"name\")?.valid);\n    if (this.authorForm.valid) {\n      this.author = { ...this.author, ...this.authorForm.value };\n      //console.log(this.author);\n      this.authorService.editAuthor(this.author);\n      this.isFormSubmitted = false;\n      this.router.navigateByUrl(\"/\")\n    }\n\n  }\n}\n","\r\n<div class=\"row\">\r\n  <div class=\"col-4\"></div>\r\n  <div class=\"col mt-5\">\r\n    <form [formGroup]=\"authorForm\" (ngSubmit)=\"onSubmit()\">\r\n      <div>\r\n        \r\n        <label class=\"form-label\">\r\n          Name:\r\n          <div class=\"text-danger\" [hidden]=\"!isFormSubmitted || authorForm.get('name')?.valid\">\r\n             Name is required!\r\n          </div>\r\n          <input class=\"form-control\" type=\"text\" id=\"name\" formControlName=\"name\" />\r\n        </label>\r\n      </div>\r\n      <div>\r\n        \r\n        <label class=\"form-label\">\r\n          <div class=\"text-danger\" [hidden]=\"!isFormSubmitted || !authorForm.get('name')?.valid\">\r\n            Year of birth required!\r\n          </div>\r\n          Year of birth:\r\n          <input class=\"form-control\" id=\"yearOfBirth\" formControlName=\"yearOfBirth\" type=\"number\" />\r\n        </label>\r\n      </div>\r\n      <div class=\"btn-group\">\r\n        <button type=\"submit\" class=\"btn btn-outline-success\">Save</button>\r\n        <button type=\"submit\" class=\"btn btn-outline-secondary\">Bacl</button>\r\n      </div>\r\n    </form>\r\n\r\n  </div>\r\n  <div class=\"col-4\"></div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}